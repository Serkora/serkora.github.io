<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<title>Паравозик тыр-тыр-тыр</title>
		<link rel="stylesheet" href="stylesheets/styles.css">
		<link rel="stylesheet" href="stylesheets/pygment_trac.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script src="javascripts/respond.js"></script>
		<!--[if lt IE 9]>
			<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<!--[if lt IE 8]>
		<link rel="stylesheet" href="stylesheets/ie.css">
		<![endif]-->
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">

	</head>
	<body>
		<div class="wrapper">
			<section>
				<div id="title" margin=>
					<h1><font color="#ff1493">K.I.T.T.</font></h1>
					<p></p>
					<hr>
<!--					 <span class="credits left">Project maintained by <a href="https://github.com/Serkora/plugdjbot">frederik.torve</a></span> -->
<!--					 <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span> -->
				</div>
			</section>
				<!--		TABS		 -->
			<div class="tabs">
			    <ul class="tab-links">
			        <li class="active"><a href="#tab1" class="tab1">            Blog        </a></li>
			        <li><a href="#tab2" class="tab2">Bot description</a></li>
			    </ul>
			 
			    <div class="tab-content">
			        <div id="tab1" class="tab active">
			        	<h3>16.03.2015</h3>
			        	<p>Осталось совсем чуть-чуть!</p>
			        	<h3>15.03.2015</h3>
			        	<p>Добавлен детектор мата в ваших сообщениях! В планах устраивать несколько часов в неделю, в течение которых за появление мата в сообщении будет 
			        	выдаваться мут на 1-2 минуты.</br>
			        	Принцип работы детектора: создаётся список запрещённых слов и корней, участвующих в бесконечном количество слов морфологически богатого языка.
			        	Далее все буквы каждого из слов изменяются на регулярные выражения, содержащие (почти) все возможные варианты написания этой буквы в слове как по-русски,
			        	транслитом, или заменяя на внешне похожие буквы из латиницы. Например, буква <i>я</i> оригинального слова будет замечена, если сообщение содержит
			        	<i>я, ya, ja, йа или иа</i>. Таким образом происходит нещадная поимка всего, что хоть сколько-то напоминает искомые слова. Очевидно, 
			        	будет много ошибок. Начиная от слова <i>тр<b>ебу</b>шет</i>, закачивая фразой <i>Су<b>п из до</b>вольной курицы</i>. Если в сообщении был обнаружен
			        	мат, идёт проверка на исключения — т.е. известные ложные срабатывания детектора. Если в сообщении содержалось слово из списка исключений, то оно удаляется,
			        	а оставшееся сообщение снова прогоняется через детектор, где всё происходит по той же схеме. Таким образом, изначально детектор настроен на большое 
			        	количество ошибок первого рода (false positive), которые затем исправляются, так как ошибки второго рода поймать и исправить в данном случае невозможно. </br>
			        	В последней версии получалось не более 2% ложных срабатываний на несколько сотен сообщений. Обойти детектор, естественно, возможно.</br>
			        	Имеется возможность проверить, является ли сообщение, которое вы хотите отправить, "запрещённым": 
			        	<a href="javascript:void(0)" class="comlink" id="link_sweartest">!sweartest <i>text</i></a>.</br>
			        	Полный список слов/замен можно посмотреть примерно на трёхтысячной строке <a href="https://github.com/Serkora/plugdjbot/blob/master/plugdjbot.js">кода</a>. </p>
			        	<h3>14.03.2015</h3>
			        	<p>Количество строк в коде безвозвратно перевалило за 3 тысячи!</br>
			        	Добавлена возможность оповещать заходящих в руму людей о чём хотите — <a href="javascript:void(0)" class="comlink" id="link_joinmessage">!joinmessage</a>.</p>
			        	<h3>12.03.2015</h3>
			        	<p>Описаны все, так сказать, standalone команды, доступные для простых смертных.</p>
			        	<h3>11.03.2015</h3>
			        	<p>Переписаны команда lastpos и несколько других функций, на которые она полагается, поэтому в случае неполадок обязательно пишите в багрепорт!</p>
			        	<h3>10.03.2015</h3>
			        	<p>Добавлена возможность бана/мута на <a href="javascript:void(0)" class = "comlink" id="link_mute">произвольное время</a>.
			        	Пока что мут максимум на 45 минут, а бан на 24 часа. Минимум — 18 секунд.</p>
			        	<h3>09.03.2015</h3>
			        	<p>Наконец-то закончил переписывать основную часть кода (принцип обработки сообщений), так что теперь, как говорили админы плага,
			        	"внедрение новых фич будет происходить гораздо быстрее"! Ну и сайт начинаю заполнять.</p>
			        	<h3>TEMP</h3>
						<p>На время заполнения списка команд: <a href="https://serkora.github.io/KITT/files/plugbot.pdf">pdf файлик</a>.</p>
						<p>Используемый код всегда можно посмотреть <a href="https://github.com/Serkora/plugdjbot/blob/master/plugdjbot.js">тут</a>. Никаких секретов.</p>
						<p><a href="https://2ch.hk/plug/res/2732.html">Тред</a> на 2ch.hk</p>
			        </div>
			 
			        <div id="tab2" class="tab">
			        	<h2 id="general">General Info</h2>
			        	<div>
				        	<p>Бот такой же юзер, как и вы. Только лучше.</br>
							Команды регистронезависимые. Все аргументы команд вводятся через пробел. Если аргумент написан в скобках, значит он не обязателен 
							для ввода. Менять аргументы местами нельзя.</br>
				        	Бот старается казаться умным, поэтому сводит все 'особенные' и невидимые символы к тому, что видите и можете ввести вы.
				        	Если буква выглядит одинаково как на кириллице, так и на латинице — вводите как угодно! Иными словами, забанить киттекса 
				        	через чат можно введя <i>guerrillaforce</i>, а отправить котика Игорьку — <i>Lамigоr</i>. Теоретически, можно ввести лишь часть ника, 
				        	но результат не гарантирован. </br>
				        	<p>Используемый код всегда можно посмотреть <a href="https://github.com/Serkora/plugdjbot/blob/master/plugdjbot.js">на гитхабе</a>.</br>
				        	Экскурсии за кулисы проводятся каждый четверг в 15:00GMT+3.</br>
				        	<a href="https://2ch.hk/plug/res/2732.html">Тред</a> на 2ch.hk</p>
				        	</p>
				        </div>
			        	<h2 id="background">Background functions</h2>
				        	<div class="passive">
				        	<div><com>Autoskip</com> — Cкип трека при определённом соотношении мехов и вутов.
				        	<a href="javascript:void(0)" class="collapsed">Подробнее</a>
				        	<span class="expanded">
				        		<div class="box">
					        	<args>Бот скипает при выполнении следующего неравенства: meh ≥ 1.25*woot + ⌊(grey+resident)/5⌋ + 3.</args>
					        </div></span></div>
				        	<div><com>DJ Cycle</com> — Автопереключение цикла в зависимости от длины очереди. <a href="javascript:void(0)" class="collapsed">Подробнее</a>
				        	<span class="expanded"><div class="box">
					        	<args>Если в очереди становится 15 человек — отключает. Как только длина очереди опустится ниже 10 человек — включит обратно. 
					        	Соответственно, при очереди в [10,14] человек цикл можно быть как включен, так и выключен. Гистерезис тип.</args>
					        </div></span></div>
				        	<div><com>Stuck</com> — Скип зависших треков. <a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
				        		<args>Если трек завис, то бот через несколько секунд попробует скипнуть 5 раз с некоторым интервалом. 
				        		Если не получилось, то на 10 минут эта функция отключается.</args></br>
							</div></span></div>
				        	<div><com>Mrazota</com> — Скип излишне длинных треков. <a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								<args>Если трек длится дольше 100 минут и на момент начала трека в очереди есть 2+ человек, то скипнет.</args></br>
				        	</div></span></div>
				        	<div><com>Overplayed</com> — Сообщение о том, что исполнитель/трек недавно уже играл. <a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								<args>"Недавно" — 3 часа для повтора трека и две длины очереди (отводя по 4 минуты на трек)
								для повтора исполнителя. Иными словами, играйте исполнителей через одного. С часу ночи до 8 утра или при очереди из 3х и меньше
								человек автоматически отключается.</args></br>
							</div></span></div>
				        	<div><com>Autoreconnect</com> — Перезапуск в случае неполадок со связью. <a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								<args>Если в чате не было активности последние 5 минут, то будет отправлено проверочное сообщение, которое
								вы можете заметить в чате. Если оно не отправится или не сможет быть удалено два раза (с интервалом в 5 минут), то произойдёт перезагрузка.
								Таким образом, максимальное время неактивности бота составляет 10 минут, если проблема не на стороне плага, конечно.</args></br>
				        	</div></span></div>
				        	</div>
				        	</br>
<!-- 				        	<div id="everyone"> -->
						<h2 id="everyone">Everyone</h2>
						<div>
							<div class="commands" id="answering_machine">
							<div><com>!message</com> / <com>!bugreport <i>text</i></com> — Остановить сообщение на мой автоответчик.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Чего не понятно-то?!
							</div></br></span></div></div>
							<div class="commands" id="lastpos">
							<div><com>!lastpos</com> / <com> !dc (<i>username</i>)</com> — Восстановление в очереди в случае дисконнекта.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								Команда применима как к себе, так и к другому пользователю. В случае выхода из очереди в списке вы будете находиться от 30 до 60 минут. 
								Каждый час идёт проверка времени дисконнета всех пользователей в списке, и те, кто находится там более 30 минут, — удаляются.</br>
								Если место человека в очереди меньше записанного — ничего не произойдёт.</br>
								Если в течение трёх секунд пользователь не будет подвинут на нужное место (по причине лагов плага, например), то в чат
								будет отправлено соответствующее сообщение с записанной позицией.</br>
								Имена обрабатываются кучей замен символов в регэкспах, поэтому имеется некоторая свобода в его написании.</br></br>
								
								<args>Если <i>username == "_chat"</i>, то <b>только</b> сообщит в чат записанные место и дату вылета.</args></br></br>
								
								<com>!dc</com> ==> Добавит в очередь и подвинет на нужно место <i>вас</i>.</br>
								<com>!dc felix</com> ==>  Добавит в очередь и подвинет <i>Ｆｅｌｉｘ Ｅｒｍｏｌｏｖ</i>'а</br>
							</div></br></span></div></div>
							<div class="commands" id="lastplayed">
							<div><com>!lastplayed</com> / <com>!lp</com> — Информация о последнем проигрывании трека.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Пока что идёт проверка на совпадение либо id видео, либо исполнителя и названия трека. Поэтому если вы играете парамор под названием
							<i>ghoticlolita - Paramore (<3 hayley) - ain't it fun [hq] (official video)</i>, то ваши проигрывания с накрутками Gavnuk'а ничего общего
							иметь не будут.</br></br>
	
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="roll">
							<div><com>!roll</com> / <com>!reroll</com> — Рулетка жанров. 
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Роллить можно не более двух раз, после чего нужно побыть за пультом, иначе рулетка будет недоступна.</br></br>
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="skip">
							<div><com>!skip (<i>t</i>)</com> — Скипнуть трек через время <i>t</i>.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Таймер скиипа начинается с момента отправления команды, а не начала трека. 
							Обычные пользователи могут использовать эту команду только находясь за пультом, баунсеры и выше — когда хотят.</br>
							Скип-мув удалённого трека может быть произведён либо в первые 15 секунд своего трека, либо <i>другим</i> баунсером и выше.</br></br>
							
								<args>Если <i>t <= 0.3 </i> или вовсе не указано, то скип произойдёт мгновенно.</args></br>
								<args>Если <i>t > длины трека</i>, то таймер не запустится.</args></br>
								<args>Если <i>t <= 15 </i>, то время считается в минутах (поддерживаются нецелые числа).</args></br>
								<args>Если <i>t > 15 </i>, то время считается в секундах.</args></br>
								<args>Если <i>t == "stop" </i>, то скип по таймеру будет отменён.</args></br>
								<args>Если <i>t == "error" </i>, то трек будет скипнут тут же, а диджей подвинут на первое место в очереди.</args></br>
								<args>Если <i>t</i> не является цифрой один из вышеуказанных слов, то не произойдёт ничего.</args></br>
								<args>В случае попытки установить таймер при уже запущенном, будет просто сообщено оставшееся время до скипа.</args></br>
								</br>
								
								<com>!skip 2.5</com> ==> Скип через 2 минуты 30 секунд.</br>
								<com>!skip 30</com> ==> Скип через 30 секунд.</br>
								<com>!skip 0.5</com> ==> Скип через 30 секунд.</br>
								<com>!skip 0.05</com> ==> Мгновенный скип.</br>
							</div></br></span></div></div>
							<div class="commands" id="boooring">
							<div><com>!boooring</com> — Скип длинного трека при нежелании румы его слушать.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Порог скипа слегка ниже, чем для обычного автоскипа.</br></br>
								
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="leaveafter">
							<div><com>!leaveafter</com> — Удаление пользователя из очереди после одного трека.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Если команда отправлена будучи за пультом, текущий трек будет засчитан за "проигрывание". Если
							в очереди никого нет (т.е. вы опять попадёте за пульт), то по причине багов плага, удалить вас не получится.</br></br>
								
								<args>В чат никакого ответа на команду не отправляется.</args></br>
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="wakemeup">
							<div><com>!wakemeup</com> — Будильник, сообщающий о приближении вашей очереди.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Как только вы станете первым в очереди, в чат будет отправлено сообщение, которое затем будет тут же удалено. Команда одноразовая,
							т.е. сбрасывается после каждого звонка будильника.</br>
							Так как проверка на необходимость разбудить идёт при каждом обновлении очереди, не рекоммендуется отправлять эту команду, находясь
							на первом месте в очереди.</br>
								
								<args>В чат никакого ответа на команду не отправляется.</args></br>
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="lastseen">
							<div><com>!lastseen <i>username</i></com> — Сообщение о последнем онлайне пользователя.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Если введённое имя ни с чем не совпало, значит такого пользователя в руме никогда не было.</br></br>
								
								<com>!lastseen GREGORIYLEPS</com> ==> <i>GREGORIYLEPS has never been to this room.</i><br>
								<com>!lastseen kitt</com> ==>  <i>K.I.T.T. is in the room, dummy!</i></br>
							</div></br></span></div></div>
							<div class="commands" id="tweek">
							<div><com>!tweek (<i>username</i>) (<i>n</i>)</com> — Цитата великой.
							<a href="javascript:void(0)" class="twcollapsed">Подробнее</a>
							<span class="twexpanded"><div class="box">
							Можно послать как случайную цитату, так и нужную вам (указав номер). Либо просто в чат, либо в личку одному из пользователей.</br></br>
								
								<args>Если <i>n</i> не является числом, то всё написанное после команды будет считаться именем.</args></br>
								<args>Номером цитаты <i>n</i> выбирается последнее введённое слово/число.</args></br>
								<args>Если первое слово <i>username</i>'а является числом, то цитата будет отправлена просто в чат, а не в личку, однако номером
								всё равно будет <b>последнее</b> число среди аргументов.</args></br>
								<args>Если введённый <i>username</i> не совпал ни с одним из юзеров, когда либо бывавших в комнате, в чат будет написано
								именно то, что вы написали.</args></br></br>
								
								<com>!tweek</com> ==>  <i><span class="tweek1"></span></i></br>
								<com>!tweek 3</com> ==> <i>если честно, то трек не очень</i></br>
								<com>!tweek твик</com> ==> <i>@твик <span class="tweek2"></span></i></br>
								<com>!tweek твик 3</com> ==> <i>@твик если честно, то трек не очень</i></br>
								<com>!tweek 5 negroes in kfc 3</com> ==> <i>если честно, то трек не очень</i></br>
							</div></br></span></div></div>
							<div class="commands" id="meow">
							<div><com>!meow (<i>username</i>)</com> — Рандомный котик.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Отправляет ссылку на котика либо вам, либо указанному вами пользователю.</br>
							К сожалению, времени обновлять список ссылок не было, поэтому там всего около полусотни разных котиков.</br></br>
	
								<args>Если введённый <i>username</i> не совпал ни с одним из юзеров, когда либо бывавших в комнате, в чат будет написано
							именно то, что вы написали.</args></br>	
							</div></br></span></div></div>
							<div class="commands" id="asian">
							<div><com>!asian (<i>username</i>)</com> — Фотография милой азиатки.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Отправляет ссылку на приятную девушку азиатской внешности либо вам, либо указанному вами пользователю. Всего их несколько сотен.</br></br>
								
								<args>Если введённый <i>username</i> не совпал ни с одним из юзеров, когда либо бывавших в комнате, в чат будет написано
							именно то, что вы написали.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="wowroll">
							<div><com>!wowroll</com> — Случайное число от 0	 до 100. Полезно для решения разногласий.
							<a href="javascript:void(0)" class="twcollapsed">Подробнее</a>
							<span class="twexpanded"><div class="box">
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br></br>
								
								<com>!wowroll</com> ==>  <i>@you have rolled <span class="wowroll"></span>.</i></br>
							</div></br></span></div></div>
							<div class="commands" id="add">
							<div><com>!add <i>command</i> <i>response</i></com> — Добавление пользовательской команды.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							"Команды" регистронезависимы. "Командой" считается первое слово после <i>!add</i>, а "ответом" — всё последующее.</br></br>
								
								<args><i>command</i> не может содержать пробелов.</args></br>
								<args><i>response</i> не может начинаться с <i>!</i> или <i>/</i>, кроме <i>/me</i>.</args></br>
								<args>Если у команды нет хотя бы двух аргументов, разделённых пробелом, не произойдёт ничего.</args></br>
								<args>Если команда уже существует, добавлена она не будет.</args></br>
								<args>Никакого сообщения об успешном добавлении команды в чат не идёт, только об ошибках.</args></br></br>
								
								<com>!add hello Greetings, my friends!</com>; <com>!hello</com> ==><i>Greetings, my friends!</i></br>
							</div></br></span></div></div>
							<div class="commands" id="relay">
							<div><com>!relay (-r <i>username</i>) <i>message</i></com> — Сказать что-либо от лица бота.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Можно отправить как просто сообщение, так и адресованное определённому пользователю. Свобода написания имени
							пользователя такая же, как и в других командах.</br></br>
							
								<args><i>message</i> не может начинаться с <i>!</i> или <i>/</i>, кроме <i>/me</i></args></br>
								<args>Если после команды стоит <i>'-r'</i>, то бот постарается из последующих нескольких слов вычленить нужное имя пользователя,
								отправляя целиком ваше сообщение с <i>@</i> перед ним, если введённое имя не совпало ни с одним из пользователей, 
								которые сейчас онлайн.</args></br></br>
								
								<com>!relay Птички поют.</com> ==>  <i>Птички поют.</i></br>
								<com>!relay -r jesus Хочешь наркоты?</com> ==> <i>@JesusSuperstar Хочешь наркоты?</i></br>
							</div></br></span></div></div>
							<div class="commands" id="postcount">
							<div><com>!postсount</com> — Количество ваших постов, сыгранных песен и отправленных команд.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br></br>
								
								<com>!postcount</com> ==></br>
							</div></br></span></div></div>
							<div class="commands" id="plugpoints">
							<div><com>!plugpoints</com> — Количество заработанных вами плагпоинтов.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Новая система плагпоинтов — херня. Настоящие плагпоинты зависели от вашей музыки, реакции публики на неё и вашей активности.
							Нынешние же дают просто так, за проведённое время даже не в руме, а просто на сайте.</br>
							Плагпоинт начисляется за каждую сыгранную вами песню, за каждый поставленным вам вут, за каждый граб вашего трека
							и за каждую оценку вами чужих треков.</br></br>
								
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br></br>
								
								<com>!plugpoints</com> ==>  <i>@you, You have 0 plugpoints.</i></br>
							</div></br></span></div></div>
							<div class="commands" id="bean">
							<div><com>!bean</com> — Зубочиску?
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Зубочистку?
							</div></br></span></div></div>
							<div class="commands" id="triforce">
							<div><com>!trifoce  </com> — Трифорс.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							▲</br>
							▲ ▲
							</div></br></span></div></div>
							<div class="commands" id="ping">
							<div><com>!ping</com> — Pong!</div>
							</div>
						</div></br>
						<h2 id="bouncers">Bouncers</h2>
						<div>
							<div class="commands" id="skip">
							<div><com>!skip (<i>t</i>)</com> — Скипнуть трек через время <i>t</i>.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Таймер скиипа начинается с момента отправления команды, а не начала трека. 
							Обычные пользователи могут использовать эту команду только находясь за пультом, баунсеры и выше — когда хотят.</br>
							Скип-мув удалённого трека может быть произведён либо в первые 15 секунд своего трека, либо <i>другим</i> баунсером и выше.</br></br>
							
								<args>Если <i>t <= 0.3 </i> или вовсе не указано, то скип произойдёт мгновенно.</args></br>
								<args>Если <i>t > длины трека</i>, то таймер не запустится.</args></br>
								<args>Если <i>t <= 15 </i>, то время считается в минутах (поддерживаются нецелые числа).</args></br>
								<args>Если <i>t > 15 </i>, то время считается в секундах.</args></br>
								<args>Если <i>t == "stop" </i>, то скип по таймеру будет отменён.</args></br>
								<args>Если <i>t == "error" </i>, то трек будет скипнут тут же, а диджей подвинут на первое место в очереди.</args></br>
								<args>Если <i>t</i> не является цифрой один из вышеуказанных слов, то не произойдёт ничего.</args></br>
								<args>В случае попытки установить таймер при уже запущенном, будет просто сообщено оставшееся время до скипа.</args></br>
								</br>
								
								<com>!skip 2.5</com> ==> Скип через 2 минуты 30 секунд.</br>
								<com>!skip 30</com> ==> Скип через 30 секунд.</br>
								<com>!skip 0.5</com> ==> Скип через 30 секунд.</br>
								<com>!skip 0.05</com> ==> Мгновенный скип.</br>
							</div></br></span></div></div>
							<div class="commands" id="cycle">
							<div><com>!cycle (<i>argument</i>)</com> — Управление циклом.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Теперь доступно и баунсерам!</br></br>
								
								<args>
								Если не введён <i>argument</i>, то переключит состояние цикла.</br>
								Если <i>argument == "on"</i>, то включит цикл.</br>
								Если <i>argument == "off"</i>, то выключит цикл.</br>
								Если <i>argument == "autoon"</i>, то включит автоматическое прееключение цикла, зависящее от длины очереди (по-дефолту включено).</br>
								Если <i>argument == "autooff"</i>, то выключит автоматическое прееключение цикла на один час.</br>
								</args>
							</div></br></span></div></div>
							<div class="commands" id="staff">
							<div><com>!staff <i>username role</i></com> — Дать/отнять лычку/очко.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Для успешного выполнения команды, ваша роль должна быть выше как изначальной, так и конечной ролей цели. Т.е. манагер максимум может повысить до баунсера
							или снять лычку с баунсера/резиндта. Исключение — снятие лычки с себя (или нахождение в списке избранных, естественно).</br></br>
								
								<args>
								Доступные роли: <i>'grey', 'resident', 'bouncer', 'manager', 'cohost'</i> и <i>'host'</i> или цифрами от 0 до 5.</br>
								Если пользователь не в комнате, роль будет дана/снята при следующем его онлайне.</br>
								Требования ко вводу имени как и во всех других командах.
								</args></br></br>
								
								<com>!staff tequila 3</com> ==> Дать дженерку манагера.</br>
								<com>!staff guerila 1</com> ==> Зашкварить китеха.</br>
							</div></br></span></div></div>
							<div class="commands" id="move">
							<div><com>!move <i>username</i> <i>place</i></com> — Подвинуть пользователя в очереди.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Можно использовать вне зависимости от нахождения человека в очереди — если надо, то добавит.</br></br>
								
								<com>!move exx 1</com> ==> Послушать к-попчику. </br>
							</div></br></span></div></div>
							<div class="commands" id="mute">
							<div><com>!mute <i>username duration</i></com> — Замутить пользователя.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Можно мутить на произвольное время от 18 секунд до 45 минут. При использовании этой команты пользователю будет сообщено в чате
							о длительности наложенного на него мута. Изначально мут будет дан на ближайшее дозволенное плагом время (с округлением вверх),
							но затем снят через необходимый промежуток времени.</br></br>
								
								<args>
								Дефолтные длительности:</br>
								&emsp;&emsp;15 минут: <i>"15", "s", "short"</i>,</br>
								&emsp;&emsp;30 минут: <i>"30", "m", "medium"</i>,</br>
								&emsp;&emsp;45 минут: <i>"45", "l", "long"</i>.</br>
								Остальные длительности вводятся в минутах, в том числе нецелых.
								Требования ко вводу имени как и во всех других командах.
								</args></br></br>
								
								<com>!mute walek 36.25</com> ==> Замутить петровалика на 36 минут и 15 секунд.</br>
								<com>!mute твик 0.2</com> ==> <i>Invalid duration.</i></br>
							</div></br></span></div></div>
							<div class="commands" id="ban">
							<div><com>!ban <i>username duration</i></com> — Забанить пользователя.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Можно банить на произвольное время от 18 секунд до 24 часов. Изначально бан будет дан на ближайшее дозволенное плагом время (с округлением вверх),
							но затем снят через необходимый промежуток времени.</br>
							Мутить можно как серых, так и фиолетовых. Во втором случае будет снята лычка, дан мут, и возвращена нужна лычка.</br></br>
								
								<args>
								Дефолтные длительности:</br>
								&emsp;&emsp;1 час: <i>"1", "h", "hour"</i>,</br>
								&emsp;&emsp;сутки: <i>"24", "d", "day"</i>,</br>
								&emsp;&emsp;навсегда: <i>"p", "perma", "permanent", "forever", "endless"</i>.</br>
								Остальные длительности вводятся в часах, в том числе нецелых.
								Требования ко вводу имени как и во всех других командах.
								</args></br></br>
								
								<com>!ban Gavnuk 5.2</com> ==> Убрать парамор из румы на 5 часов и 12 минут. </br>
								<com>!ban Вася Пупкин 24</com> ==> <i>Invalid Target.</i></br>
							</div></br></span></div></div>
							<div class="commands" id="unmute">
							<div><com>!unmute <i>username</i></com> — Размутить пользователя.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								<args>Требования ко вводу имени как и во всех других командах.</args></br></br>
							</div></br></span></div></div>
							<div class="commands" id="unban">
							<div><com>!unban <i>username</i></com> — Разбанить пользователя.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
								<args>Требования ко вводу имени как и во всех других командах.</args></br></br>
							</div></br></span></div></div>
						</div></br>
						<h2 id="managers">Managers</h2>
						<div>
							<div class="commands" id="restart">
							<div><com>!restart</com> — Перезапустить бота.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Будут сброшены/потеряны следующие вещи: список вылетевших для ластпоза, лимиты кошек, азиаток и рулетки, приветственное сообщение, голосование, скип по таймеру и
							все выключенниые на время настройки.</br>
							Также могут быть неправильно добавлены плагпоинты за играющий во время рестарта трек, если после окончания рестарта не прибавилось/убавилось вутов или мехов, или
							неправильно собрана статистика скорости чата в этот момент времени.</br>
							Лучшее время для рестарта — в самом начале трека</br></br>
								
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="botstop">
							<div><com>!botstop</com> — (Частичное) отключение бота.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Через 30 секунд отключит ответы китта на чат, автоскип, управление циклом, приветствие, сообщение заходящим в руму, 
							детектор мата и проверку заевшей пластинки — словом, всё, кроме фоновых функций/сбора статистики и команд 
							<a href="javascript:void(0)" class="comlink" id="link_lastpos">!lastpos</a> и <a href="javascript:void(0)" class="comlink" id="link_botstart">!botstart</a>.</br></br>
								
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="botstart">
							<div><com>!botstart</com> — Запуск бота.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Команда доступна только после отключения бота.</br></br>
								
								<args>Ввод каких-либо аргументов на выполнение команды не влияет.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="settingscommand">
							<div><com>!settings (<i>setting</i>)</com> — Вывести в чат настройки и их состояние.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Можно узнать, на какие сообщения бот сейчас отвечает и, если нужно, отключить. Подробнее в секции <a href="javascript:void(0)" class="headlink" id="link_settings">Settings</a>.</br></br>
								
								<args>
								Если указана <i>setting</i>, то выведет в чат состояние только этой настройки.</br>
								Если настройки не указана или такой существует, то в чат будут выведены (почти) все.
								</args></br>
							</div></br></span></div></div>
							<div class="commands" id="enable">
							<div><com>!enable <i>setting</i></com> — Включить функцию бота.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							
							Подробнее в секции <a href="javascript:void(0)" class="headlink" id="link_settings">Settings</a>.
							Если настройка содержит поднастройки, то вводятся они через точку. По-дефолту все настройки включены. После рестарта отключаются лишь те, что были выключены бессрочно.</br></br>
								
								<args>Накакого оповещения об успешном или неуспешном выполнении команды нет.</args></br></br>
								
								<com>!enable addtweek</com> ==> Включить автодобавление твик в очередь (доступно не всем).</br>
								<com>!enable games.hangman</com> ==> Включить возможность играть в виселицу.</br>
							</div></br></span></div></div>
							<div class="commands" id="disable">
							<div><com>!disable <i>setting</i> (<i>t</i>)</com> — Отключить функицю (на время <i>t</i>).
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Если в руму пришли серьёзные люди и вы не хотите их смущать азиаточками, можно отключить эту опцию. 
							Настройки должны вводиться так, как они написаны при выводе в чат командой <a href="javascript:void(0)" class="comlink" id="link_settingscommand">!settings</a>.
							Подробнее в секции <a href="javascript:void(0)" class="headlink" id="link_settings">Settings</a>.</br></br>
								
								<args>
								Если <i>t == 'never'</i>, то настройка будет отключена бессрочно и не будет включена обратно даже после рестарта бота.</br>
								Если <i>t</i> не указано, настройка будет включена через 2 часа.</br>
								Время <i>t</i> вводится в минутах.</br>
								Накакого оповещения об успешном или неуспешном выполнении команды нет.
								</args></br></br>
								
								<com>!disable fun 30</com> ==> Отключить котиков и прочие рулетки на 30 минут.</br>
								<com>!disable games.russian never</com> ==> Отключить возможность играть в русскую рулетку <b>навсегда</b>.</br>
								<com>!disable control</com> ==> Отключить возможность управлять ботом.</br>
							</div></br></span></div></div>
							<div class="commands" id="joinmessage">
							<div><com>!joinmessage (-t <i>time</i>) (<i>text</i>)</com> — Приветствие входящему пользователю.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Не запоминает уже оповещённых людей, поэтому писать вам будет каждый раз, когда вы заходитие.</br></br>
								
								<args>
								Если <i>time</i> не указано, сообщение будет отключено через 1 час.</br>
								Если не введён <i>text</i>, приветствие будет отключено.</br>
								Время <i>time</i> вводится в часах.</br>
								Накакого оповещения об успешном или неуспешном выполнении команды нет.</args></br></br>
								
								<com>!joinmessage -t 5 Ставим рэп!</com> ==> <i>K.I.T.T.: @JoinedUser Ставим рэп!</i> В течение 5 часов.</br>
								<com>!joinmessage  Ставим рэп!</com> ==> <i>K.I.T.T.: @JoinedUser Ставим рэп!</i> В течение 1 часа.</br>
								<com>!joinmessage</com> ==> Приветствие отключено.</br>
							</div></br></span></div></div>
						</div></br>
						<h2 id="elite">Chosen ones</h2>
						<div>
						
						</div></br>
							</br></br></br></br></br>
						<h2 id="games">Games</h2>
						<div>
						
						</div></br>
							</br></br></br></br></br>
						<h2 id="voting">Voting</h2>
						<div>
						
						</div></br>
						<h2 id="events">Events</h2>
						<div>
							<div class="commands" id="valentine">
							<div><com>!valentine <i>username</i></com> — Отправить валентинку.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Посылает шоколадку и сердечко указанному пользователю.</br></br>
								
								<args>Если <i>username == 'showmethescore'</i>, сообщит самого любимого члена общества.</args></br>
							</div></br></span></div></div>
							<div class="commands" id="sweartest">
							<div><com>!sweartest <i>text</i></com> — Проверить слово/предложение на запрещённость.
							<a href="javascript:void(0)" class="collapsed">Подробнее</a>
							<span class="expanded"><div class="box">
							Возможность проверить сообщение на мат без каких-либо последствий. Однако, все проверки записываются, поэтому у вас есть два варианта:
							проверять все возможные варианты написаний в поиске недектируемого, но вскоре обнаружить починку этой нелепой оплошности, или же писать сразу в чат
							и рисковать получить мут.</br></br>
							
								<args>Если с текстом всё в порядке, в чат не будет сообщено ничего.</args></br></br>
								
								<com>!sweartest Я твой хуй ебал, пидрила</com> ==> <i>That's swearing.</i></br>
								<com>!sweartest Употреблять алкоголь в больших количествах — вредно.</com> ==> </br>
							</div></br></span></div></div>
						</div>
							</br></br></br></br></br>
							</br></br></br></br></br>
						<h2 id="settings">Settings</h2>
						<div>
						
						</div>
							</br></br></br></br></br>
			        </div>
			    </div>
			</div>
			<script>
					// COLLAPSE JS CODE
			var highlight = false
			$(document).ready(function() {
					// TABS
			    $('.tabs .tab-links a').on('click', function(e)  {
			        var currentAttrValue = $(this).attr('href');
			 		localStorage.kitttab = "a."+currentAttrValue.slice(1)
			        // Show/Hide Tabs
			        $('.tabs ' + currentAttrValue).show().siblings().hide();
			 
			        // Change/remove current tab to active
			        $(this).parent('li').addClass('active').siblings().removeClass('active');
			 
			        e.preventDefault();
			    });
			    if (localStorage.kitttab){$(localStorage.kitttab.slice(1)).click()}
			    
					// COLLAPSE ALL
    			$(".expanded, .twexpanded").hide();
    			$(".expanded, .collapsed").mousedown(function(){
					if (window.getSelection().toString()){highlight = true}
					else {highlight = false}
					return
    			})
    			$(".collapsed").mouseup(function() {
					if (window.getSelection().toString()){return}
    				if (highlight){return}
    				console.log($(this).parent())
    				console.log($(this).parent().children())
    				$(this).parent().children(".expanded").show()
    				$(this).parent().children(".collapsed").hide()
    						// To make only "More/Less" clickable. Need to have separate class.
// 					$(this).parent().parent().parent().children(".expanded").show()
// 					$(this).parent().parent().parent().children(".collapsed").hide()
    			});
    			$(".twcollapsed").mouseup(function() {
					if (window.getSelection().toString()){return}
    				if (highlight){return}
    				$(this).parent().children(".twexpanded").show()
    				$(this).parent().children(".twcollapsed").hide()
    				$(".tweek1").html(tweek[Math.floor(Math.random()*tweek.length)])
					$(".tweek2").html(tweek[Math.floor(Math.random()*tweek.length)])
					$(".wowroll").html(Math.round(Math.random()*100))
    						// To make only "More/Less" clickable. Need to have separate class.
// 					$(this).parent().parent().parent().children(".expanded").show()
// 					$(this).parent().parent().parent().children(".collapsed").hide()
    			});
    			$(".twexpanded").mouseup(function() {
					if (window.getSelection().toString()){return}
    				if (highlight){return}
    				$(this).parent().children(".twcollapsed").show()
    				$(this).parent().children(".twexpanded").hide()
    						// To make only "More/Less" clickable. Need to have separate class.
// 					$(this).parent().parent().parent().children(".collapsed").show()
// 					$(this).parent().parent().parent().children(".expanded").hide()
    			});
    			$(".expanded").mouseup(function() {
					if (window.getSelection().toString()){return}
    				if (highlight){return}
    				$(this).parent().children(".collapsed").show()
    				$(this).parent().children(".expanded").hide()
    						// To make only "More/Less" clickable. Need to have separate class.
// 					$(this).parent().parent().parent().children(".collapsed").show()
// 					$(this).parent().parent().parent().children(".expanded").hide()
    			});
    				// Scroll to id
    			function scrollToPos(elem, expand) {
				    var el = document.getElementById(elem);
				    console.log(el)
// 				    el.style.visibility = "visible";
// 				    el.style.display = "block";
				    el.scrollIntoView(true);
				    if (expand){
						$("#"+elem).children().children(".collapsed").mouseup()
					}
				}
				$(".comlink").click(function(){
					$('a.tab2').click()
					var attr = $(this).attr('id')
					scrollToPos(attr.slice(5), true)
				})
				$(".headlink").click(function(){
					$('a.tab2').click()
					var attr = $(this).attr('id')
					scrollToPos(attr.slice(5))
				})
			});
					// tweek random quote
tweek = ["накрыло немношк","часы идут","если честно, то трек не очень","идите к черту)","никак","да она усратая","она сейчас будет дрочит на сцене как всегда?",
"да","крис рок","нет","чувствую ваши мысли","не пиши таких вещей больше","это даже не смешно","вы похоже, все ебанутые","что за чушь вы порите","мне плохо стал о",
"я дружу со всеми","вы искренне слушали это говно?","не люблю некрасивых баб","я тебе голову взорву","почему твоя девушка не парамор?","не трогай меня",
"я буду твоей иллюзией","пакетик ванили","короче, это не интересно","-_-","мне кажется ты ебанутый","квает лытл войсес","очень хорошая песенка",
"ты только мне задаешь такие вопросы или тв правда пизданутый?","да я вас сдую","позитивное мышление","если это сердечки, то я всегда их замечу",
"мне не нравится то,что вы слушаете","да он запал на тебя","я буду просто наблюдать","только я замечаю самые позитивные вещи",
"чтоб ты уходил в музач и больше здесь не появлялся","откуда вас так много","не забывайте только — я парень","эти пытки создало недалёкое правительство",
"имитация жизни","как это противоречит его словам? — никак.","смысл написанного умножается на ноль. так и живете","мн снилось что я кого-то называла социоблядью",
"тонко","главное не нервничать","но я доверяю евреям","должно получиться норм","неделя неудач","я не понимаю о чем ты, закончим разговор","не стоит грустить",
"всё образуется","я плачу только когда умиляюсь …","века","там одна крайность","злорадствуюнадо сваливать с этой мрачной страны","куча говна",
"НЕКОТОРЫЕ КАНАЛЫ НУЖНО ПРОСТО ВЗОРВАТЬ К ЧЕРТЯМ. ПОЙТИ И СЖЕЧЬ ЭТУ ПАРАШУ","БОЖЕ МОЙ, Я ПРОСТО В ЯРОСТИ","возможно вы когда-то поймете всю жалось ваших убеждений",
"у меня возникла бизнес идея","люблю его а пласибо не люблю","неуместная шутка","просто ужасная песня, сблевала","это настолько говно,что даже выстебать нельзя",
"=)","…","она там умрет в конце?"]			
// 			$(document).ready(function(){
// 				$(".tweek1").html(tweek[Math.floor(Math.random()*tweek.length)])
// 				$(".tweek2").html(tweek[Math.floor(Math.random()*tweek.length)])
// 				$(".wowroll").html(Math.round(Math.random()*100))
// 			});
			</script>
				<!--		TABS		 -->
		</div>
<!--		 [if !IE]><script>fixScale(document);</script><![endif] -->
		
	</body>
</html>